<div
  class="signup-container flex items-center justify-center w-full min-h-screen bg-[#1a1a1a] px-2 sm:px-4 lg:px-8"
>
  <div
    class="relative w-full max-w-7xl min-h-screen flex flex-col lg:flex-row items-center justify-center"
  >
    <!-- Left Side (hidden on small screens) -->
    <div
      class="hidden lg:block w-full lg:w-1/2 text-center lg:text-left px-4 lg:px-12"
    >
      <h1 class="text-xl lg:text-4xl font-poppins font-semibold text-white">
        Step up into the past,
      </h1>
      <h3
        class="text-base lg:text-3xl font-poppins font-semibold text-white mt-4"
      >
        One antique at a time.
      </h3>
    </div>

    <!-- Right Form Section -->
    <div class="w-full flex justify-center items-center px-2 py-4 sm:py-6">
      <div class="w-full max-w-[320px] xs:max-w-[350px]">
        <!-- Header -->
        <div class="text-left mb-2 sm:mb-4">
          <h2 class="text-lg sm:text-xl font-poppins font-medium text-white">
            Create,
          </h2>
          <h3
            class="text-lg sm:text-xl font-poppins font-medium text-white mt-1"
          >
            new account
          </h3>
        </div>

        <!-- Form -->
        <form
          [formGroup]="signupForm"
          (ngSubmit)="onSubmit()"
          class="flex flex-col gap-2 sm:gap-3"
        >
          <!-- Email -->
          <div class="flex flex-col gap-1">
            <label class="text-xs sm:text-sm text-white font-poppins"
              >Email</label
            >
            <input
              type="email"
              formControlName="email"
              placeholder="Enter Your Email"
              class="h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm placeholder-gray-400 w-full"
            />
            <div
              *ngIf="
                signupForm.get('email')?.touched &&
                signupForm.get('email')?.errors
              "
              class="text-red-400 text-xs"
            >
              <p *ngIf="signupForm.get('email')?.errors?.['required']">
                Email is required
              </p>
              <p *ngIf="signupForm.get('email')?.errors?.['email']">
                Please enter a valid email
              </p>
            </div>
          </div>

          <!-- Username -->
          <div class="flex flex-col gap-1">
            <label class="text-xs sm:text-sm text-white font-poppins"
              >Username</label
            >
            <input
              type="text"
              formControlName="username"
              placeholder="Enter Your Username"
              class="h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm placeholder-gray-400 w-full"
            />
            <div
              *ngIf="
                signupForm.get('username')?.touched &&
                signupForm.get('username')?.errors
              "
              class="text-red-400 text-xs"
            >
              <p *ngIf="signupForm.get('username')?.errors?.['required']">
                Username is required
              </p>
              <p *ngIf="signupForm.get('username')?.errors?.['minlength']">
                Minimum 3 characters
              </p>
            </div>
          </div>

          <!-- Gender (Fixed for small screens) -->
          <!-- Gender Dropdown with Small Screen Fixes -->
          <div class="flex flex-col gap-1">
            <label class="text-xs sm:text-sm text-white font-poppins"
              >Gender</label
            >

            <!-- Custom Select Wrapper -->
            <div class="relative w-full">
              <select
                formControlName="gender"
                class="h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm text-gray-400 w-full appearance-none cursor-pointer"
                style="font-size: 13px"
              >
                <option value="" disabled selected style="font-size: 13px">
                  Enter Your Gender
                </option>
                <option value="male" style="font-size: 13px; padding: 2px">
                  Male
                </option>
                <option value="female" style="font-size: 13px; padding: 2px">
                  Female
                </option>
              </select>

              <!-- Custom dropdown arrow -->
              <div
                class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400"
              >
                <svg
                  class="fill-current h-4 w-4"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"
                  />
                </svg>
              </div>
            </div>

            <div
              *ngIf="
                signupForm.get('gender')?.touched &&
                signupForm.get('gender')?.errors
              "
              class="text-red-400 text-xs"
            >
              <p>Gender is required</p>
            </div>
          </div>

          <!-- Add this to your component's CSS file -->
          <style>
            /* Limit dropdown menu size on small screens */
            @media (max-width: 640px) {
              select option {
                font-size: 13px !important;
                padding: 2px !important;
                height: 24px !important;
              }

              /* Force smaller dropdown */
              select:focus {
                font-size: 13px !important;
              }

              /* Override browser defaults */
              select {
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='gray' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
                background-repeat: no-repeat;
                background-position: right 8px center;
                background-size: 12px;
              }
            }
          </style>

          <!-- Password -->
          <div class="flex flex-col gap-1">
            <label class="text-xs sm:text-sm text-white font-poppins"
              >Password</label
            >
            <input
              type="password"
              formControlName="password"
              placeholder="Enter Your Password"
              class="h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm placeholder-gray-400 w-full"
            />
            <div
              *ngIf="
                signupForm.get('password')?.touched &&
                signupForm.get('password')?.errors
              "
              class="text-red-400 text-xs"
            >
              <p *ngIf="signupForm.get('password')?.errors?.['required']">
                Password is required
              </p>
              <p *ngIf="signupForm.get('password')?.errors?.['minlength']">
                Minimum 8 characters
              </p>
              <p *ngIf="signupForm.get('password')?.errors?.['pattern']">
                Must contain uppercase, lowercase, number & special character
              </p>
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="flex flex-col gap-1">
            <label class="text-xs sm:text-sm text-white font-poppins"
              >Confirm Password</label
            >
            <input
              type="password"
              formControlName="confirmPassword"
              placeholder="Confirm Your Password"
              class="h-9 sm:h-10 rounded-md px-2 sm:px-3 text-xs sm:text-sm placeholder-gray-400 w-full"
            />
            <div
              *ngIf="signupForm.get('confirmPassword')?.touched"
              class="text-red-400 text-xs"
            >
              <p
                *ngIf="signupForm.get('confirmPassword')?.errors?.['required']"
              >
                Please confirm your password
              </p>
              <p *ngIf="signupForm.errors?.['mismatch']">
                Passwords do not match
              </p>
            </div>
          </div>

          <!-- Global Errors -->
          <div *ngIf="errorMessages.length > 0" class="text-red-400 text-xs">
            <p *ngFor="let message of errorMessages">{{ message }}</p>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            [disabled]="signupForm.invalid || isLoading"
            class="h-9 sm:h-10 bg-white rounded-md font-semibold text-xs sm:text-sm text-black mt-2 disabled:opacity-50 w-full"
          >
            {{ isLoading ? "Signing up..." : "Signup" }}
          </button>

          <!-- Login Link -->
          <p class="text-white text-center text-xs mt-2 sm:mt-3">
            Already have an account?
            <a routerLink="/login" class="text-blue-400 hover:underline"
              >Login here</a
            >
          </p>
        </form>
      </div>
    </div>
  </div>
</div>
